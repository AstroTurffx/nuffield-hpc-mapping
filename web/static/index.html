<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>HPC Mapping</title>
    
    <script src="svg-inject.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="index.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="skeleton.css">
    <link rel="stylesheet" href="double_range.css">
</head>
<body class="p-5 ">
    <h1 data-bs-toggle="tooltip">HPC Mapping</h1>
    <div class="flex-container">

        <div class="half-split" id="hs-left">
            <div id="filter-section">
                <h2>Filter HPCs in the UK</h2>
                <form id="filter-form">
                    <div id="filter-form-layout">
                        
                        <label>CPU Family</label>
                        <select name="cpu_family" class="form-select">
                            <option selected>Any</option>
                            <option value="EPYC">AMD EPYC</option>
                            <option value="Xeon">Intel Xeon</option>
                            <option>Other</option>
                        </select>

                        <label>Accelerator Family</label>
                        <select name="accelerator_family" class="form-select">
                            <option selected>Any</option>
                            <option value="A100">NVIDIA Ampere A100</option>
                            <option value="AMD Instinct">AMD Instinct</option>
                            <option>Other</option>
                        </select>

                        <label>Rmax (TFlop/s)</label>
                        <div>
                            <div class="double-range">
                                <input type="range" step="0.1" min="0.0" max="20" value="0.0" name="r_max_1" oninput="doubleRangeFirst(this, .2)">
                                <input type="range" step="0.1" min="0.0" max="20" value="20.0" name="r_max_2" oninput="doubleRangeSecond(this, .2)">
                            </div>
                            <span>0.0</span>
                            <span>20.0</span>
                        </div>

                        <label>Total cores</label>
                        <div>
                            <div class="double-range">
                                <input type="range" step="10000" min="0" max="1000000" value="0" name="total_cores_1" oninput="doubleRangeFirst(this, 10000)">
                                <input type="range" step="10000" min="0" max="1000000" value="1000000" name="total_cores_2" oninput="doubleRangeSecond(this, 10000)">
                            </div>
                            <span>0</span>
                            <span>1,000,000</span>
                        </div>

                        <label>Node memory</label>
                        <div>
                            <div class="double-range">
                                <input type="range" step="64" min="0" max="1024" value="0" name="node_memory_1" oninput="doubleRangeFirst(this, 10.24)">
                                <input type="range" step="64" min="0" max="1024" value="1024" name="node_memory_2" oninput="doubleRangeSecond(this, 10.24)">
                            </div>
                            <span>0</span>
                            <span>1,024</span>
                        </div>
                        
                        <hr style="grid-column: span 2;">
                        
                        <label>Tier</label>
                        <select name="system_tier" class="form-select">
                            <option selected>Any</option>
                            <option value="1">Tier 1</option>
                            <option value="2">Tier 2</option>
                            <option value="3">Tier 3</option>
                        </select>

                        <label>System status</label>
                        <select name="system_status" class="form-select">
                            <option selected>Any</option>
                            <option>Active</option>
                            <option>Planned</option>
                            <option>Out of Service</option>
                            <option>Under Maintenance</option>
                            <option>EOL</option>
                        </select>

                        <label>System type</label>
                        <select name="system_type" class="form-select">
                            <option selected>Any</option>
                            <option>CPU</option>
                            <option>GPU</option>
                            <option>AI Accelerator</option>
                            <option>Mixed</option>
                        </select>

                        <label>Segment</label>
                        <select name="segment" class="form-select">
                            <option selected>Any</option>
                            <option>Academic</option>
                            <option>Research</option>
                            <option>Industry</option>
                        </select>
                    </div>
                    <br>
                    <input class="btn btn-primary btn-sm" type="submit">
                    <div class="text-muted hvr-transition"" id="reset-filters" onclick="resetFilters()">
                        reset
                        <img class="reset-icon" src="icons/reset.svg" onload="SVGInject(this)">
                    </div>
                </form>
            </div>
            <div id="search-results-container">
                <h2 id="search-results-title">Search results</h2>
                <!-- <p id="search-results-length" class="text-muted">10 results found.</p> -->
                <div id="search-results">
                    <div id="skeleton-card" class="card result-card">
                        <div class="card-title skeleton skeleton-h5"></div>
                        <div class="card-subtitle mb-1 skeleton skeleton-h6"></div>
                        <div class="skeleton skeleton-small"></div>
                        <p id="results-card-main" class="card-text mb-1">
                            <table class="table mt-2">
                                <tbody>
                                    <tr>
                                        <td><div class="skeleton skeleton-table skeleton-table-n1"></div></th>
                                        <td><div class="skeleton skeleton-table skeleton-table-n2"></div></td>
                                    </tr>
                                    <tr>
                                        <td><div class="skeleton skeleton-table skeleton-table-n3"></div></th>
                                        <td><div class="skeleton skeleton-table skeleton-table-n6"></div></td>
                                    </tr>
                                    <tr>
                                        <td><div class="skeleton skeleton-table skeleton-table-n4"></div></th>
                                        <td><div class="skeleton skeleton-table skeleton-table-n5"></div></td>
                                    </tr>
                                    <tr>
                                        <td><div class="skeleton skeleton-table skeleton-table-n5"></div></th>
                                        <td><div class="skeleton skeleton-table skeleton-table-n4"></div></td>
                                    </tr>
                                    <tr>
                                        <th colspan=2>
                                            <div class="skeleton skeleton-table skeleton-table-n4"></div>
                                        </th>
                                    </tr>
                                </tbody>
                            </table>
                        </p>
                        <div class="skeleton skeleton-small-link"></div>
                    </div>
                    <div style="display: none;" id="internal-error" class="alert alert-danger" role="alert">An internal error occured.</div>
                </div>
                <!-- <div id="pagination">
                    <span>Items per page</span> 
                    <span>1-10 of 16 items</span>

                </div> -->
            </div>
        </div>
        <div class="half-split" id="hs-right">
            <div id="map-container">
                <!-- https://mapsvg.com/maps/united-kingdom -->
                <img id="map" src="united-kingdom.svg" onload="SVGInject(this)">
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>